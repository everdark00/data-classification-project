stages:
  tika_de:
    cmd: export PYTHONPATH=$PWD && python src/tika_parser.py --config=params.yaml --locale=de
    deps:
    - ${tika.input_path}/de
    - src/tika_parser.py
    outs:
    - ${tika.output_path}/de
    params:
      - tika
      - base

  tokenizer_de:
    cmd: "export PYTHONPATH=$PWD && \
     python -m spacy download de_core_news_sm && \
     python src/tokenizer.py --config=params.yaml --locale=de"
    deps:
      - ${tokenizer.input_path}/de
    outs:
      - ${tokenizer.output_path}/de
    params:
      - tokenizer
      - base