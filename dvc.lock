schema: '2.0'
stages:
  tika_de:
    cmd: export PYTHONPATH=$PWD && python src/tika_parser.py --config=params.yaml
      --locale=de
    deps:
    - path: data/raw//de
      md5: 65071be381cd1cca54898b81324ee189.dir
      size: 75790954761
      nfiles: 333115
    - path: src/tika_parser.py
      md5: 2a8599bfaf67c0dc9514d170eba989c6
      size: 2325
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tika:
          input_path: raw/
          output_path: interim/tika/
    outs:
    - path: data/interim/tika//de
      md5: 10a336a5bacd9095d00b07b081f3073d.dir
      size: 8335402231
      nfiles: 333115
  tokenizer_de:
    cmd: export PYTHONPATH=$PWD && python -m spacy download de_core_news_sm && python
      src/tokenizer.py --config=params.yaml --locale=de
    deps:
    - path: data/interim/tika/de
      md5: 10a336a5bacd9095d00b07b081f3073d.dir
      size: 8335402231
      nfiles: 333115
    - path: src/tokenizer.py
      md5: 505eb030bb6e8b4b28ea8e22bf3ef86c
      size: 3986
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer:
          min_tokens: 500
          max_symbols: 250000
          input_path: interim/tika
          output_path: interim/tokenizer
          industries:
          - finance_banking
          - it_research_development
          - manufacturing
          - medical_medicine_paramedical
          - sales_marketing_pr
          - businises_corporate
          - hr
          - legal
          - others
    outs:
    - path: data/interim/tokenizer/de
      md5: 481314dfd2f560af905941c28ee0d709.dir
      size: 2127686858
      nfiles: 9
  train_de:
    cmd: export PYTHONPATH=$PWD && python src/train_model.py --config=params.yaml
      --locale=de
    deps:
    - path: data/interim/tokenizer/de
      md5: 481314dfd2f560af905941c28ee0d709.dir
      size: 2127686858
      nfiles: 9
    - path: src/train_model.py
      md5: 84d9288b4c277780a33fb3022dcbab17
      size: 11856
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer.industries:
        - finance_banking
        - it_research_development
        - manufacturing
        - medical_medicine_paramedical
        - sales_marketing_pr
        - businises_corporate
        - hr
        - legal
        - others
        train:
          input_path: interim/tokenizer
          interim_path: interim/train
          test_size: 0.25
          validate_size: 0.2
          max_features: 1024
          reports_path: reports/
          models_path: models/
          pca_explained_variance_threshold: 0.9
          lightgbm_parameters:
            learning_rate:
            - 0.15
            boosting:
            - gbdt
            max_depth:
            - 2
            - 4
            num_leaves:
            - 20
            - 31
            - 40
            objective:
            - multiclass
            num_iterations:
            - 240
            subsample:
            - 0.5
            subsample_freq:
            - 1
            is_unbalance:
            - true
            reg_lambda:
            - 0.01
            early_stopping_round:
            - 3
            metric:
            - multi_logloss
            verbosity:
            - -1
    outs:
    - path: data/interim/train/de/pca.txt
      md5: c338be58b74a2393191292e34b871f11
      size: 4743207
    - path: data/interim/train/de/tfidf_idf.txt
      md5: b21b3c47abda160294577cfcdf90998f
      size: 18912
    - path: data/interim/train/de/tfidf_vocab.txt
      md5: 1e8a3df482e7e45cef5a400d9d74599f
      size: 10994
    - path: data/interim/train/de/tfidf_vocab_words.txt
      md5: f3eaecf21c22632e4d7617e81fb14470
      size: 7495
    - path: models//de/model.txt
      md5: 481b796e8a782d484f80a2ec01bc59ec
      size: 3918997
    - path: models//de/pca.pkl
      md5: ce3f41b69a9ae5bcd5ca563f30f6cbdd
      size: 1775480
    - path: reports//de/best_params.yaml
      md5: 6497ad4612aba1647acfbbaba651b23d
      size: 247
    - path: reports//de/confusion.csv
      md5: 5352ee47cc89391e2e037e87b4524974
      size: 160933
    - path: reports//de/metrics.json
      md5: a8e5318b8ad60b57d8f4599ef66d019c
      size: 2984
    - path: reports//de/train_progress.csv
      md5: 4b04a105e3189c1bf2259a660cd1ce09
      size: 5698
  tika_fr:
    cmd: export PYTHONPATH=$PWD && python src/tika_parser.py --config=params.yaml
      --locale=fr
    deps:
    - path: data/raw//fr
      md5: 90cdb249083262b434ee57d2949e7c10.dir
      size: 88951903981
      nfiles: 341340
    - path: src/tika_parser.py
      md5: 2a8599bfaf67c0dc9514d170eba989c6
      size: 2325
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tika:
          input_path: raw/
          output_path: interim/tika/
    outs:
    - path: data/interim/tika//fr
      md5: 70a363e0ae7a3584d3b90917dac64a5f.dir
      size: 8684309912
      nfiles: 341340
  tokenizer_fr:
    cmd: export PYTHONPATH=$PWD && python -m spacy download fr_core_news_sm && python
      src/tokenizer.py --config=params.yaml --locale=fr
    deps:
    - path: data/interim/tika/fr
      md5: 70a363e0ae7a3584d3b90917dac64a5f.dir
      size: 8684309912
      nfiles: 341340
    - path: src/tokenizer.py
      md5: 505eb030bb6e8b4b28ea8e22bf3ef86c
      size: 3986
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer:
          min_tokens: 500
          max_symbols: 250000
          input_path: interim/tika
          output_path: interim/tokenizer
          industries:
          - finance_banking
          - it_research_development
          - manufacturing
          - medical_medicine_paramedical
          - sales_marketing_pr
          - businises_corporate
          - hr
          - legal
          - others
    outs:
    - path: data/interim/tokenizer/fr
      md5: 28bc0bb63df45665cff1335fb115d0c6.dir
      size: 1905320481
      nfiles: 9
  train_fr:
    cmd: export PYTHONPATH=$PWD && python src/train_model.py --config=params.yaml
      --locale=fr
    deps:
    - path: data/interim/tokenizer/fr
      md5: 28bc0bb63df45665cff1335fb115d0c6.dir
      size: 1905320481
      nfiles: 9
    - path: src/train_model.py
      md5: 84d9288b4c277780a33fb3022dcbab17
      size: 11856
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer.industries:
        - finance_banking
        - it_research_development
        - manufacturing
        - medical_medicine_paramedical
        - sales_marketing_pr
        - businises_corporate
        - hr
        - legal
        - others
        train:
          input_path: interim/tokenizer
          interim_path: interim/train
          test_size: 0.25
          validate_size: 0.2
          max_features: 1024
          reports_path: reports/
          models_path: models/
          pca_explained_variance_threshold: 0.9
          lightgbm_parameters:
            learning_rate:
            - 0.15
            boosting:
            - gbdt
            max_depth:
            - 2
            - 4
            num_leaves:
            - 20
            - 31
            - 40
            objective:
            - multiclass
            num_iterations:
            - 240
            subsample:
            - 0.5
            subsample_freq:
            - 1
            is_unbalance:
            - true
            reg_lambda:
            - 0.01
            early_stopping_round:
            - 3
            metric:
            - multi_logloss
            verbosity:
            - -1
    outs:
    - path: data/interim/train/fr/pca.txt
      md5: 5585c83fb856180ee12128e790a23ed0
      size: 5910305
    - path: data/interim/train/fr/tfidf_idf.txt
      md5: a5c887e74ae5357b637262d5654620f2
      size: 18967
    - path: data/interim/train/fr/tfidf_vocab.txt
      md5: 3bd25b150ecd19c1ed75a0a9a780f25a
      size: 11017
    - path: data/interim/train/fr/tfidf_vocab_words.txt
      md5: 044b832abc3a7bd75b3af3f5e385357b
      size: 7473
    - path: models//fr/model.txt
      md5: 6c960da79264b6032e0510734b0dfa85
      size: 1266908
    - path: models//fr/pca.pkl
      md5: faa77cf98d34aa61ff9120b9b0a78ea9
      size: 2219148
    - path: reports//fr/best_params.yaml
      md5: 07eec8264c6e94c9f50ff4ee391fbcf3
      size: 247
    - path: reports//fr/confusion.csv
      md5: 4e5ded98efbe242daf5c07bcc3ca3e67
      size: 157909
    - path: reports//fr/metrics.json
      md5: 175c011625ea0e2b8a33305fec4d0aeb
      size: 2980
    - path: reports//fr/train_progress.csv
      md5: 448d785e5f9c6eda70e55f8da6807084
      size: 5707
  tika_it:
    cmd: export PYTHONPATH=$PWD && python src/tika_parser.py --config=params.yaml
      --locale=it
    deps:
    - path: data/raw//it
      md5: f91b43c20c58e309afb4561e67299303.dir
      size: 47722809107
      nfiles: 191210
    - path: src/tika_parser.py
      md5: 2a8599bfaf67c0dc9514d170eba989c6
      size: 2325
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tika:
          input_path: raw/
          output_path: interim/tika/
    outs:
    - path: data/interim/tika//it
      md5: ba4ac490b8d75a5c50f1b1f0f517aa47.dir
      size: 4839848980
      nfiles: 191210
  tokenizer_it:
    cmd: export PYTHONPATH=$PWD && python -m spacy download it_core_news_sm && python
      src/tokenizer.py --config=params.yaml --locale=it
    deps:
    - path: data/interim/tika/it
      md5: ba4ac490b8d75a5c50f1b1f0f517aa47.dir
      size: 4839848980
      nfiles: 191210
    - path: src/tokenizer.py
      md5: 505eb030bb6e8b4b28ea8e22bf3ef86c
      size: 3986
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer:
          min_tokens: 500
          max_symbols: 250000
          input_path: interim/tika
          output_path: interim/tokenizer
          industries:
          - finance_banking
          - it_research_development
          - manufacturing
          - medical_medicine_paramedical
          - sales_marketing_pr
          - businises_corporate
          - hr
          - legal
          - others
    outs:
    - path: data/interim/tokenizer/it
      md5: 6cbfa9344e3bedfa6f7a955ca30b19e2.dir
      size: 1521827397
      nfiles: 9
  train_it:
    cmd: export PYTHONPATH=$PWD && python src/train_model.py --config=params.yaml
      --locale=it
    deps:
    - path: data/interim/tokenizer/it
      md5: 6cbfa9344e3bedfa6f7a955ca30b19e2.dir
      size: 1521827397
      nfiles: 9
    - path: src/train_model.py
      md5: 84d9288b4c277780a33fb3022dcbab17
      size: 11856
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer.industries:
        - finance_banking
        - it_research_development
        - manufacturing
        - medical_medicine_paramedical
        - sales_marketing_pr
        - businises_corporate
        - hr
        - legal
        - others
        train:
          input_path: interim/tokenizer
          interim_path: interim/train
          test_size: 0.25
          validate_size: 0.2
          max_features: 1024
          reports_path: reports/
          models_path: models/
          pca_explained_variance_threshold: 0.9
          lightgbm_parameters:
            learning_rate:
            - 0.15
            boosting:
            - gbdt
            max_depth:
            - 2
            - 4
            num_leaves:
            - 20
            - 31
            - 40
            objective:
            - multiclass
            num_iterations:
            - 240
            subsample:
            - 0.5
            subsample_freq:
            - 1
            is_unbalance:
            - true
            reg_lambda:
            - 0.01
            early_stopping_round:
            - 3
            metric:
            - multi_logloss
            verbosity:
            - -1
    outs:
    - path: data/interim/train/it/pca.txt
      md5: 45cf81dc289691425e945650c279f12b
      size: 3880729
    - path: data/interim/train/it/tfidf_idf.txt
      md5: 85535f4ccb5bffdfa4c2106db7bf7f33
      size: 18953
    - path: data/interim/train/it/tfidf_vocab.txt
      md5: 6d8191b90d405e12acc4bbc0115b579f
      size: 10997
    - path: data/interim/train/it/tfidf_vocab_words.txt
      md5: 58f2fc6ec1f3a86fe94f873f2022344f
      size: 7854
    - path: models//it/model.txt
      md5: 420ea59c44e09e14cfb1f26b18f51cc1
      size: 2147006
    - path: models//it/pca.pkl
      md5: 480d8024d7deb55d48f0d4989ea1313a
      size: 1455054
    - path: reports//it/best_params.yaml
      md5: 6497ad4612aba1647acfbbaba651b23d
      size: 247
    - path: reports//it/confusion.csv
      md5: 43c66116b1386fa6449961a2c5d7bc5a
      size: 72581
    - path: reports//it/metrics.json
      md5: 6fd1669332f47c3238bbd29b77913ea7
      size: 2949
    - path: reports//it/train_progress.csv
      md5: 3260f0037990913edbfb5d2a64424dc4
      size: 5713
  tika_es:
    cmd: export PYTHONPATH=$PWD && python src/tika_parser.py --config=params.yaml
      --locale=es
    deps:
    - path: data/raw//es
      md5: a0d6495d920216ede703c75b1817baf8.dir
      size: 46119187756
      nfiles: 334412
    - path: src/tika_parser.py
      md5: 2a8599bfaf67c0dc9514d170eba989c6
      size: 2325
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tika:
          input_path: raw/
          output_path: interim/tika/
    outs:
    - path: data/interim/tika//es
      md5: 34fed0553d2d87b03c75082eaadc898b.dir
      size: 7793738989
      nfiles: 334412
  tokenizer_es:
    cmd: export PYTHONPATH=$PWD && python -m spacy download es_core_news_sm && python
      src/tokenizer.py --config=params.yaml --locale=es
    deps:
    - path: data/interim/tika/es
      md5: 34fed0553d2d87b03c75082eaadc898b.dir
      size: 7793738989
      nfiles: 334412
    - path: src/tokenizer.py
      md5: 505eb030bb6e8b4b28ea8e22bf3ef86c
      size: 3986
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer:
          min_tokens: 500
          max_symbols: 250000
          input_path: interim/tika
          output_path: interim/tokenizer
          industries:
          - finance_banking
          - it_research_development
          - manufacturing
          - medical_medicine_paramedical
          - sales_marketing_pr
          - businises_corporate
          - hr
          - legal
          - others
    outs:
    - path: data/interim/tokenizer/es
      md5: 9162cc65e811add0fe2ca3c2341add0c.dir
      size: 1734798387
      nfiles: 9
  train_es:
    cmd: export PYTHONPATH=$PWD && python src/train_model.py --config=params.yaml
      --locale=es
    deps:
    - path: data/interim/tokenizer/es
      md5: 9162cc65e811add0fe2ca3c2341add0c.dir
      size: 1734798387
      nfiles: 9
    - path: src/train_model.py
      md5: 84d9288b4c277780a33fb3022dcbab17
      size: 11856
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer.industries:
        - finance_banking
        - it_research_development
        - manufacturing
        - medical_medicine_paramedical
        - sales_marketing_pr
        - businises_corporate
        - hr
        - legal
        - others
        train:
          input_path: interim/tokenizer
          interim_path: interim/train
          test_size: 0.25
          validate_size: 0.2
          max_features: 1024
          reports_path: reports/
          models_path: models/
          pca_explained_variance_threshold: 0.9
          lightgbm_parameters:
            learning_rate:
            - 0.15
            boosting:
            - gbdt
            max_depth:
            - 2
            - 4
            num_leaves:
            - 20
            - 31
            - 40
            objective:
            - multiclass
            num_iterations:
            - 240
            subsample:
            - 0.5
            subsample_freq:
            - 1
            is_unbalance:
            - true
            reg_lambda:
            - 0.01
            early_stopping_round:
            - 3
            metric:
            - multi_logloss
            verbosity:
            - -1
    outs:
    - path: data/interim/train/es/pca.txt
      md5: 79b11347617ffefd47bc5e8b2161faa0
      size: 5649301
    - path: data/interim/train/es/tfidf_idf.txt
      md5: cef64f9289ef0131343fb3ffa86bee21
      size: 18930
    - path: data/interim/train/es/tfidf_vocab.txt
      md5: c1d0fdca57ddb03839235b2d4f5ff5f0
      size: 11000
    - path: data/interim/train/es/tfidf_vocab_words.txt
      md5: 25ceef3f81de5f52b707b65ae2e77c9d
      size: 7732
    - path: models//es/model.txt
      md5: f9d52add4df9a9c3fb66718ea3acd74e
      size: 3524034
    - path: models//es/pca.pkl
      md5: 55389bba6c17d4195b1e54272bc4281e
      size: 2120556
    - path: reports//es/best_params.yaml
      md5: 6497ad4612aba1647acfbbaba651b23d
      size: 247
    - path: reports//es/confusion.csv
      md5: b5138ad818300f456ea36170bf73339b
      size: 165197
    - path: reports//es/metrics.json
      md5: d7f08e5b79be22ced7113e25fa1e8df3
      size: 2992
    - path: reports//es/train_progress.csv
      md5: 51967e8ee1ca6913d1e9165e71667aa0
      size: 5791
  tika_ja:
    cmd: export PYTHONPATH=$PWD && python src/tika_parser.py --config=params.yaml
      --locale=ja
    deps:
    - path: data/raw//ja
      md5: 0e7c3c299a9194021cd3c196fdf38399.dir
      size: 77864476465
      nfiles: 308788
    - path: src/tika_parser.py
      md5: 2a8599bfaf67c0dc9514d170eba989c6
      size: 2325
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tika:
          input_path: raw/
          output_path: interim/tika/
    outs:
    - path: data/interim/tika//ja
      md5: fc208c044c444aadfcd862eaf31c7e36.dir
      size: 5651273384
      nfiles: 308788
  tokenizer_ja:
    cmd: export PYTHONPATH=$PWD && python -m spacy download ja_core_news_sm && python
      src/tokenizer.py --config=params.yaml --locale=ja
    deps:
    - path: data/interim/tika/ja
      md5: fc208c044c444aadfcd862eaf31c7e36.dir
      size: 5651273384
      nfiles: 308788
    - path: src/tokenizer.py
      md5: 505eb030bb6e8b4b28ea8e22bf3ef86c
      size: 3986
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer:
          min_tokens: 500
          max_symbols: 250000
          input_path: interim/tika
          output_path: interim/tokenizer
          industries:
          - finance_banking
          - it_research_development
          - manufacturing
          - medical_medicine_paramedical
          - sales_marketing_pr
          - businises_corporate
          - hr
          - legal
          - others
    outs:
    - path: data/interim/tokenizer/ja
      md5: 289383bb850aae8a033953e0d6c95822.dir
      size: 2236028565
      nfiles: 9
  train_ja:
    cmd: export PYTHONPATH=$PWD && python src/train_model.py --config=params.yaml
      --locale=ja
    deps:
    - path: data/interim/tokenizer/ja
      md5: 289383bb850aae8a033953e0d6c95822.dir
      size: 2236028565
      nfiles: 9
    - path: src/train_model.py
      md5: 84d9288b4c277780a33fb3022dcbab17
      size: 11856
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer.industries:
        - finance_banking
        - it_research_development
        - manufacturing
        - medical_medicine_paramedical
        - sales_marketing_pr
        - businises_corporate
        - hr
        - legal
        - others
        train:
          input_path: interim/tokenizer
          interim_path: interim/train
          test_size: 0.25
          validate_size: 0.2
          max_features: 1024
          reports_path: reports/
          models_path: models/
          pca_explained_variance_threshold: 0.9
          lightgbm_parameters:
            learning_rate:
            - 0.15
            boosting:
            - gbdt
            max_depth:
            - 2
            - 4
            num_leaves:
            - 20
            - 31
            - 40
            objective:
            - multiclass
            num_iterations:
            - 240
            subsample:
            - 0.5
            subsample_freq:
            - 1
            is_unbalance:
            - true
            reg_lambda:
            - 0.01
            early_stopping_round:
            - 3
            metric:
            - multi_logloss
            verbosity:
            - -1
    outs:
    - path: data/interim/train/ja/pca.txt
      md5: 1f1daa98437cae7c49e93d7d63e61096
      size: 8112008
    - path: data/interim/train/ja/tfidf_idf.txt
      md5: b72fd5a0581a762a6585df6ec8f87d99
      size: 18950
    - path: data/interim/train/ja/tfidf_vocab.txt
      md5: a452d22fa40072e9711bae9c68381e82
      size: 10990
    - path: data/interim/train/ja/tfidf_vocab_words.txt
      md5: e351618e383193990dd9b6101a32f993
      size: 6949
    - path: models//ja/model.txt
      md5: 022a362725c59751079ce8b55caf419e
      size: 3982471
    - path: models//ja/pca.pkl
      md5: 6278961299eda1308492ed1d803ce72f
      size: 3048964
    - path: reports//ja/best_params.yaml
      md5: 6497ad4612aba1647acfbbaba651b23d
      size: 247
    - path: reports//ja/confusion.csv
      md5: 2a4f2d29e885c4081496c60d07ff4807
      size: 104181
    - path: reports//ja/metrics.json
      md5: 5660945531c9df064bc6d05fb8ba25ed
      size: 2977
    - path: reports//ja/train_progress.csv
      md5: a79bd4ed4338878262becaa35afc761d
      size: 5623
  tika_ru:
    cmd: export PYTHONPATH=$PWD && python src/tika_parser.py --config=params.yaml
      --locale=ru
    deps:
    - path: data/raw//ru
      md5: 499973b25e01f1ca14019a37b266e72b.dir
      size: 62620014843
      nfiles: 476797
    - path: src/tika_parser.py
      md5: 2a8599bfaf67c0dc9514d170eba989c6
      size: 2325
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tika:
          input_path: raw/
          output_path: interim/tika/
    outs:
    - path: data/interim/tika//ru
      md5: d1cc3d52554b4d3fbaf8a3e4a78e5a07.dir
      size: 12927769422
      nfiles: 476797
  tokenizer_ru:
    cmd: export PYTHONPATH=$PWD && python -m spacy download ru_core_news_sm && python
      src/tokenizer.py --config=params.yaml --locale=ru
    deps:
    - path: data/interim/tika/ru
      md5: d1cc3d52554b4d3fbaf8a3e4a78e5a07.dir
      size: 12927769422
      nfiles: 476797
    - path: src/tokenizer.py
      md5: 505eb030bb6e8b4b28ea8e22bf3ef86c
      size: 3986
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer:
          min_tokens: 500
          max_symbols: 250000
          input_path: interim/tika
          output_path: interim/tokenizer
          industries:
          - finance_banking
          - it_research_development
          - manufacturing
          - medical_medicine_paramedical
          - sales_marketing_pr
          - businises_corporate
          - hr
          - legal
          - others
    outs:
    - path: data/interim/tokenizer/ru
      md5: ab98878c748a8a767b671f690c562478.dir
      size: 4686597830
      nfiles: 9
  train_ru:
    cmd: export PYTHONPATH=$PWD && python src/train_model.py --config=params.yaml
      --locale=ru
    deps:
    - path: data/interim/tokenizer/ru
      md5: ab98878c748a8a767b671f690c562478.dir
      size: 4686597830
      nfiles: 9
    - path: src/train_model.py
      md5: 84d9288b4c277780a33fb3022dcbab17
      size: 11856
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer.industries:
        - finance_banking
        - it_research_development
        - manufacturing
        - medical_medicine_paramedical
        - sales_marketing_pr
        - businises_corporate
        - hr
        - legal
        - others
        train:
          input_path: interim/tokenizer
          interim_path: interim/train
          test_size: 0.25
          validate_size: 0.2
          max_features: 1024
          reports_path: reports/
          models_path: models/
          pca_explained_variance_threshold: 0.9
          lightgbm_parameters:
            learning_rate:
            - 0.15
            boosting:
            - gbdt
            max_depth:
            - 2
            - 4
            num_leaves:
            - 20
            - 31
            - 40
            objective:
            - multiclass
            num_iterations:
            - 240
            subsample:
            - 0.5
            subsample_freq:
            - 1
            is_unbalance:
            - true
            reg_lambda:
            - 0.01
            early_stopping_round:
            - 3
            metric:
            - multi_logloss
            verbosity:
            - -1
    outs:
    - path: data/interim/train/ru/pca.txt
      md5: 624e36a4fff6133d10700d054708c6e6
      size: 8091321
    - path: data/interim/train/ru/tfidf_idf.txt
      md5: 203dfba4c1509c0d387214d025da3c09
      size: 18972
    - path: data/interim/train/ru/tfidf_vocab.txt
      md5: aee931cd0369c5473ccf2ab4bf59cf04
      size: 11020
    - path: data/interim/train/ru/tfidf_vocab_words.txt
      md5: 28c7d9d88bfdd2186c3547d0afd478fe
      size: 13759
    - path: models//ru/model.txt
      md5: 6537a2a43efc751fd405316fe7ccdc74
      size: 3729494
    - path: models//ru/pca.pkl
      md5: ca83957e446a4502165997dffb0dc088
      size: 3040748
    - path: reports//ru/best_params.yaml
      md5: 554f9e2730f2bc9fadc03b3ccda112f9
      size: 247
    - path: reports//ru/confusion.csv
      md5: 5be75caae8741869a8f605ada498ab5f
      size: 193213
    - path: reports//ru/metrics.json
      md5: 49efc0403312c0c0bb4cb23e2d903b71
      size: 2987
    - path: reports//ru/train_progress.csv
  tika_nl:
    cmd: export PYTHONPATH=$PWD && python src/tika_parser.py --config=params.yaml
      --locale=nl
    deps:
    - path: data/raw//nl
      md5: 6b7f503d105e55369fa30a81b8813f16.dir
      size: 2631656339
      nfiles: 15918
    - path: src/tika_parser.py
      md5: 1de949225b2f26c35330fb0962d52592
      size: 2183
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tika:
          input_path: raw/
          output_path: interim/tika/
    outs:
    - path: data/interim/tika//nl
      md5: 42c96e33b5158e64e70ce538fd885c09.dir
      size: 294248121
      nfiles: 15918
  tokenizer_nl:
    cmd: export PYTHONPATH=$PWD && python -m spacy download nl_core_news_sm && python
      src/tokenizer.py --config=params.yaml --locale=nl
    deps:
    - path: data/interim/tika/nl
      md5: 42c96e33b5158e64e70ce538fd885c09.dir
      size: 294248121
      nfiles: 15918
    - path: src/tokenizer.py
      md5: 3e6c2914416b6b3728c831c3f8aa1f26
      size: 3863
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer:
          min_tokens: 500
          max_symbols: 250000
          input_path: interim/tika
          output_path: interim/tokenizer
          industries:
          - finance_banking
          - it_research_development
          - manufacturing
          - medical_medicine_paramedical
          - sales_marketing_pr
          - businises_corporate
          - hr
          - legal
          - others
    outs:
    - path: data/interim/tokenizer/nl
      md5: e64083ca6db79a5464f02e97eacb85a3.dir
      size: 137526671
      nfiles: 9
  train_nl:
    cmd: export PYTHONPATH=$PWD && python src/train_model.py --config=params.yaml
      --locale=nl
    deps:
    - path: data/interim/tokenizer/nl
      md5: e64083ca6db79a5464f02e97eacb85a3.dir
      size: 137526671
      nfiles: 9
    - path: src/train_model.py
      md5: 84d9288b4c277780a33fb3022dcbab17
      size: 11856
    params:
      params.yaml:
        base:
          log_level: DEBUG
          random_seed: 42
          log_path: logs
          crawlers:
          - colly
          - google
          - common
          data_dir: data
        tokenizer.industries:
        - finance_banking
        - it_research_development
        - manufacturing
        - medical_medicine_paramedical
        - sales_marketing_pr
        - businises_corporate
        - hr
        - legal
        - others
        train:
          input_path: interim/tokenizer
          interim_path: interim/train
          test_size: 0.25
          validate_size: 0.2
          max_features: 1024
          reports_path: reports/
          models_path: models/
          pca_explained_variance_threshold: 0.9
          lightgbm_parameters:
            learning_rate:
            - 0.15
            boosting:
            - gbdt
            max_depth:
            - 2
            - 4
            num_leaves:
            - 20
            - 31
            - 40
            objective:
            - multiclass
            num_iterations:
            - 240
            subsample:
            - 0.5
            subsample_freq:
            - 1
            is_unbalance:
            - true
            reg_lambda:
            - 0.01
            early_stopping_round:
            - 3
            metric:
            - multi_logloss
            verbosity:
            - -1
    outs:
    - path: data/interim/train/nl/pca.txt
      md5: b74dc713303039f07d6765f17bdffa0a
      size: 4273122
    - path: data/interim/train/nl/tfidf_idf.txt
      md5: fb61f5bc8c5d4ba56b861fccf074c7b7
      size: 19004
    - path: data/interim/train/nl/tfidf_vocab.txt
      md5: 95f24eefbcc7341cd508478488141df8
      size: 10998
    - path: data/interim/train/nl/tfidf_vocab_words.txt
      md5: 0f970c3896a6b17961643544e549443c
      size: 7909
    - path: models//nl/model.txt
      md5: 910de4000e436825f31feffdb9ab0f0b
      size: 15067
    - path: models//nl/pca.pkl
      md5: 678000c4b2ca3552cf5e33b03ab4c2e9
      size: 1602942
    - path: reports//nl/best_params.yaml
      md5: 07eec8264c6e94c9f50ff4ee391fbcf3
      size: 247
    - path: reports//nl/confusion.csv
      md5: 068eeb711d305799b0124a62296feb8a
      size: 5869
    - path: reports//nl/metrics.json
      md5: fc068e44272a4a637a50babadea6a068
      size: 565
    - path: reports//nl/train_progress.csv
      md5: ab6b81150c41ea4a88ce050c99dab530
      size: 1836
